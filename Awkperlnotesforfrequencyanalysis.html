<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c6{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c5{font-weight:400;font-family:"Courier New"}.c3{height:11pt}.c7{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c6"><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Extract only thai characters:</span></p><p class="c2"><span class="c1">perl -CSD -i.bk -pe &#39;s/[\P{InThai}]//g&#39; text.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c4">Replace non-thai characters with enter:</span></p><p class="c2"><span class="c0">This way you can extract thai words separated by spaces or /.</span></p><p class="c2"><span class="c1">perl -CSD -i.bk -pe &#39;s/[\P{InThai}]/\n/g&#39; text.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Extract only letters and numbers</span></p><p class="c2"><span class="c1">sed -z &quot;s/[^a-zA-Z0-9]//g&quot; man2v.txt &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Convert everything to lowercase</span></p><p class="c2"><span class="c5">tr &#39;[:upper:]&#39; &#39;[:lower:]&#39; &lt;outfile.txt &gt;outfile2</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Replace all enter characters with spaces:</span></p><p class="c2"><span class="c1">tr &quot;\r\n&quot; &quot; &quot; &lt;infile.txt &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Replace all duplicate spaces:</span></p><p class="c2"><span class="c1">tr -s &quot; &quot; &lt;infile.txt &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Replace all words with leading and following dashes with a dash</span></p><p class="c2"><span class="c5">sed -i -e &#39;s/-*word-*/-/g&#39; th.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Character count that includes unicode</span></p><p class="c2"><span class="c1">perl -CSD -F&quot;&quot; -anE &#39;$h{$_}++ for @F; END { say ord($_).&quot;|$h{$_}|$_&quot; for keys %h }&#39; corp.xml &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">Same character count, a little more readable</span></p><p class="c2"><span class="c1">perl -CSD -F&quot;&quot; char.pl corp.xml &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">File: char.pl</span></p><p class="c2"><span class="c1">foreach (@F) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i{$_}++ ;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">END { </span></p><p class="c2"><span class="c1">foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print ord($_).&quot;|$i{$_}|$_&quot;.&quot;\n&quot; </span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c5">}</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">&ldquo;Word&rdquo; count for words of 2-length, unicode</span></p><p class="c2"><span class="c1">perl -CSD -F&quot;&quot; char.pl corp.xml &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">File: char.pl</span></p><p class="c2"><span class="c1">foreach (@F) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i{$j.$_}++ ;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$j = $_;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">END { </span></p><p class="c2"><span class="c1">foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print ordlist($_).&quot;|$i{$_}|$_&quot;.&quot;\n&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">sub ordlist{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $char (split //, $_) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a = $a. ord(&quot;$char&quot;).&quot;-&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chop($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c4">&ldquo;Word&rdquo; count for words of x-length</span></p><p class="c2"><span class="c0">Note that this requires files named 1 to 20.</span></p><p class="c2"><span class="c1">perl -CSD -F&quot;&quot; charx.pl corp.xml 1 &gt;outfile.txt</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c0">File: charx.pl</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">BEGIN {</span></p><p class="c2"><span class="c1">&nbsp;$run=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;$x = $ARGV[1]+0;</span></p><p class="c2"><span class="c1"># $x=1;</span></p><p class="c2"><span class="c1">}</span></p><p class="c2"><span class="c1">foreach (@F) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = $run.$_;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (length($run) &gt; $x) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = substr($run,1,$x);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i{$run}++ ;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">END { </span></p><p class="c2"><span class="c1">foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print ordlist($_).&quot;|$i{$_}|$_|$x&quot;.&quot;\n&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">sub ordlist{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $char (split //, $_) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a = $a. ord(&quot;$char&quot;).&quot;-&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chop($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Charx2.pl</span></p><p class="c2"><span class="c0">This fixes the issue of having to have additional files. Also, must be run with </span></p><p class="c2"><span class="c5">perl -CSD charx2.pl input.txt 5 &gt;outfile.txt</span></p><p class="c2"><span class="c0">Where 5 is the number of subsequent characters</span></p><p class="c2"><span class="c0">To do:</span></p><p class="c2"><span class="c0">-skip analysis when there&rsquo;s a dash found</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">BEGIN {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$x=$ARGV[1]+0;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pop;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (&lt;&gt;) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@F = split(&quot;&quot;);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">}</span></p><p class="c2"><span class="c1">foreach (@F) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = $run.$_;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (length($run) &gt; $x) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = substr($run,1,$x);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i{$run}++ ;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">END { </span></p><p class="c2"><span class="c1">foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print ordlist($_).&quot;|$i{$_}|$_|$x&quot;.&quot;\n&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">sub ordlist{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $char (split //, $_) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a = $a. ord(&quot;$char&quot;).&quot;-&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chop($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Batch file for running charx.pl</span></p><p class="c2"><span class="c0">Note that this requires files named 1 to 20.</span></p><p class="c2"><span class="c1">FOR /L %%x IN (1,1,20) DO perl -CSD -F&quot;&quot; charx.pl mantext.txt %%x &gt;outfile%%x.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c7">Add a dash to the front and end of a fille</span></p><p class="c2"><span class="c1">gawk &#39;BEGIN {RS=&quot;^$&quot;}{print &quot;-&quot; $0 &quot;-&quot;}&#39; infile.txt &gt;outfile.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Char with ignore a character</span></p><p class="c2"><span class="c0">Ignore a specified character, otherwise same as charx2</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">BEGIN {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$delim=&#39;-&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$x=$ARGV[1]+0;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output=0;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#remove the argument so it doesn&#39;t process as a file</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pop; </span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (&lt;&gt;) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@F = split(&quot;&quot;);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">}</span></p><p class="c2"><span class="c1">foreach (@F) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = $run.$_;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (length($run) &gt; $x) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$run = substr($run,1,$x);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ignore strings where there&#39;s a dash</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (index($run, $delim) == -1) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i{$run}++ ;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} </span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">END { </span></p><p class="c2"><span class="c1">$output=1;</span></p><p class="c2"><span class="c1">if ($output != 0) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$maxcount=0;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$maxprint=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(($i{$_}*1)&gt;$maxcount) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$maxcount=$i{$_}*1;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$maxprint=ordlist($_).&quot;|$i{$_}|$_|$x&quot;.&quot;\n&quot;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $maxprint;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">else</span></p><p class="c2"><span class="c1">{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach (keys %i) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print ordlist($_).&quot;|$i{$_}|$_|$x&quot;.&quot;\n&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">sub ordlist{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a=&#39;&#39;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach $char (split //, $_) {</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$a = $a. ord(&quot;$char&quot;).&quot;-&quot;;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chop($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return($a);</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Merge a bunch of files togther into one</span></p><p class="c2"><span class="c1">Copy inputfile*.txt outputfile.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Shell script to generate list of words</span></p><p class="c2"><span class="c0">This generates a list of words</span></p><p class="c2"><span class="c0">Called run.sh, run by ./run.sh</span></p><p class="c2 c3"><span class="c0"></span></p><p class="c2"><span class="c1">#variables</span></p><p class="c2"><span class="c1">workfile=origth3.txt</span></p><p class="c2"><span class="c1">outfile=outfile.txt</span></p><p class="c2"><span class="c1">listfile=wordlist.txt</span></p><p class="c2"><span class="c1">echo &quot;Count|Word&quot; &gt;$listfile</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">#start with 50 characters recommended), and then decrement, analyzing for words of 5 instances or more</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">for i in {50..1..-1}</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#WORDCOUNT=10</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while </span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#echo analize the file and find the top word for the number</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perl -CSD charx3.pl $workfile $i &gt;$outfile</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WORDVAL=`gawk &#39;BEGIN {FS=&quot;|&quot;} {print $3}&#39; outfile.txt`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WORDCOUNT=`gawk &#39;BEGIN {FS=&quot;|&quot;} {print $2}&#39; outfile.txt`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $WORDVAL has $WORDCOUNT instances</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#if the top word has less than 5 instances, then skip to the next lowest number...e.g., decrement to 44</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if [ &quot;$WORDVAL&quot; = &quot;&quot; ]</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (( $WORDCOUNT &lt;= 100 )); then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#if the top word has 5 or more instances, then remove that word from the text and replace with a dash</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#echo $WORDVAL has $WORDCOUNT instances</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sed -i -e &quot;s/-*${WORDVAL}-*/-/g&quot; $workfile</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $WORDCOUNT&quot;|&quot;$WORDVAL &gt;&gt; $listfile</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#(( $WORDCOUNT &lt;= 5 )) #loop ending test</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do :; done</span></p><p class="c2"><span class="c1">done</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Remove everything except english</span></p><p class="c2"><span>prepeng.sh</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">origfile=pnp.txt</span></p><p class="c2"><span class="c1">outfile=orig4.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">sed -z &quot;s/[^a-zA-Z]//g&quot; $origfile &gt;$outfile.tmp</span></p><p class="c2"><span class="c1">tr &#39;[:upper:]&#39; &#39;[:lower:]&#39; &lt;$outfile.tmp &gt;$outfile</span></p><p class="c2"><span class="c1">rm $outfile.tmp</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Remove everything except thai v1, no breaks</span></p><p class="c2"><span class="c0">prepthai.sh</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">origfile=thaiex.txt</span></p><p class="c2"><span class="c1">outfile=origth.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">perl -CSD -pe &quot;s/[\P{InThai}]//g&quot; $origfile &gt;$outfile</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c4">Remove everything except thai v2, breaks</span></p><p class="c2"><span class="c0">prepthai.sh</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">origfile=thaiex.txt</span></p><p class="c2"><span class="c1">outfile=origth.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">perl -CSD -pe &quot;s/[\P{InThai}]+/-/g&quot; $origfile &gt;$outfile.bak</span></p><p class="c2"><span class="c1">gawk &#39;BEGIN {RS=&quot;^$&quot;}{print &quot;-&quot; $0 &quot;-&quot;}&#39; $outfile.bak &gt;$outfile.bak2</span></p><p class="c2"><span class="c1">rm $outfile.bak</span></p><p class="c2"><span class="c1">perl -CSD -pe &quot;s/-+/-/g&quot; $outfile.bak2 &gt;$outfile</span></p><p class="c2"><span class="c1">rm $outfile.bak2</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c0">Word count using a preexisting dictionary</span></p><p class="c2"><span>try2.sh</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">INFILE=wikitext.txt</span></p><p class="c2"><span class="c1">OUTFILE=outfileth.txt</span></p><p class="c2"><span class="c1">counter=0</span></p><p class="c2"><span class="c1">echo word&quot;|&quot;count &gt; $OUTFILE</span></p><p class="c2"><span class="c1">while read -r line; do</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line2=`echo ${line} | awk &#39;{print $1&#39;}`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WORDCOUNT=`grep -o &quot;$line2&quot; $INFILE | wc -l`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $line2&quot;|&quot;$WORDCOUNT &gt;&gt; $OUTFILE</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (( $WORDCOUNT &gt; 0 )); then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sed -i -e &quot;s/-*${line2}-*/-/g&quot; $INFILE</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((counter++))</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (( counter &gt;= 10)); then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span></p><p class="c2"><span class="c1">done &lt; thwords.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c0">Updated word count using preexisting dictionary, using parallel.</span></p><p class="c2"><span class="c0">Try2.sh. Note that parallel needs \n and not \r.</span></p><p class="c2"><span class="c1">INFILE=origth2.txt</span></p><p class="c2"><span class="c1">OUTFILE=outfileth.txt</span></p><p class="c2"><span class="c1">WORDFILE=freqword.txt</span></p><p class="c2"><span class="c1">#wordfile must be ordered longest to shortest</span></p><p class="c2"><span class="c1">counter=0</span></p><p class="c2"><span class="c1">echo word&quot;|&quot;count &gt; $OUTFILE</span></p><p class="c2"><span class="c1">while read -r line; do</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line2=`echo $line | tr -d &#39;\r&#39;`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#line2=`echo ${line} | awk &#39;{print $1&#39;}`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WORDCOUNT=`cat $INFILE | parallel --blocksize=50M --will-cite --pipe grep -o &quot;$line2&quot; | wc -l`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#WORDCOUNT=`grep -o &quot;$line2&quot; $INFILE | wc -l`</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $line2&quot;|&quot;$WORDCOUNT &gt;&gt; $OUTFILE</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (( $WORDCOUNT &gt; 0 )); then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallel -a $INFILE --will-cite --block 50M --pipe-part &quot;sed -e &#39;s/${line2}/\n/g&#39;&quot; &gt;$INFILE.bak</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#cat $INFILE | parallel -k --will-cite --pipe &#39;sed -e &quot;s/${line2}/\n/g&quot;&#39; &gt;$INFILE.bak #doesn&#39;t work</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mv $INFILE.bak $INFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#sed -i -e &quot;s/${line2}/\n/g&quot; $INFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#tr -s &#39;\n&#39; &lt;$INFILE &gt;$INFILE.bak</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#mv $INFILE.bak $INFILE</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#sed -i -e &quot;s/-*${line2}-*/-/g&quot; $INFILE</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#((counter++))</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#if (( counter &gt;= 15)); then</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#fi</span></p><p class="c2"><span class="c1">done &lt; $WORDFILE</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c1">Make a ram drive</span></p><p class="c2"><span class="c1">mkdir /mnt/ramdisk</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c8 c7">Strip off all the lines that aren&rsquo;t at least 2 characters</span></p><p class="c2"><span class="c1">gawk &#39;BEGIN {ORS=&quot;\n&quot;}{if (length($0)&gt;1) {print $0}}&#39; origthmini.txt &gt;outfile.txt</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c8 c7">Strip off all the duplicate lines</span></p><p class="c2"><span class="c1">gawk &#39;BEGIN {ORS=&quot;\n&quot;}{if (a!=$0) {print $0};a=$0;}&#39; wiki-mini.txt &gt;outfile2</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c7 c8">Get the number of bytes of a file:</span></p><p class="c2"><span class="c1">du -b outfile.txt | awk &#39;{printf $1}&#39;</span></p><p class="c2 c3"><span class="c1"></span></p><p class="c2"><span class="c8 c7">Make a document with word counts for each word, bigger than a certain number of word counts</span></p><p class="c2"><span class="c1">awk &#39;{for(i=1;i&lt;=NF;i++) a[$i]++} END {for(k in a) if(a[k]&gt;=20){ print k,a[k]}}&#39; wiki-200k.txt &gt;200out.txt</span></p><p class="c2 c3"><span class="c1"></span></p></body></html>